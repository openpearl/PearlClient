<ion-view view-title="Pearl" ng-controller="ChatController as chatCtrl">
  <ion-content class="chat-history">
    <div 
      prl-chat-scroll
      val="chatCtrl.chatMessages" 
      class="chat-bubble-wrapper" 
      ng-repeat="chatMessage in chatCtrl.chatMessages track by $index">

      <!-- TODO: This should not be hardcoded in the future. -->
      <div class="chat-bubble" 
        ng-class="{'chat-bubble-left': chatMessage.username !== 'client'}">
        {{chatMessage.message}}
      </div>

    </div>
  </ion-content>

  <!-- <div class="text-input-area"> -->
  <ion-footer-bar>
    <div class="item-input-inset pl-full-width">
      <label class="item-input-wrapper ">
        <input type="text" ng-model="chatCtrl.message" placeholder="Message">
      </label>

      <button ng-click="chatCtrl.sendInformation()" class="button button-small button-positive">
        <i class="icon ion-paper-airplane"></i>
      </button>
    </div>
  </ion-footer-bar>
</ion-view>
